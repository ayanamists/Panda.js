3:I[8703,[],""]
6:I[3751,[],""]
7:I[9576,["706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","911","static/chunks/911-ef3e5407f514babf.js","75","static/chunks/75-40e68fcc798be062.js","373","static/chunks/373-515480abcd5fde06.js","203","static/chunks/app/%5Blocale%5D/layout-e63741283637d366.js"],"Providers"]
4:["locale","zh-cn","d"]
5:["slug","hindley-milner","d"]
0:["mHaBjpEspFDA11_f9HUQ7",[[["",{"children":[["locale","zh-cn","d"],{"children":["posts",{"children":[["slug","hindley-milner","d"],{"children":["__PAGE__?{\"locale\":\"zh-cn\",\"slug\":\"hindley-milner\"}",{}]}]}]}]},"$undefined","$undefined",true],["",{"children":[["locale","zh-cn","d"],{"children":["posts",{"children":[["slug","hindley-milner","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},[["$","div",null,{"className":" relative w-full py-12 shadow-xl shadow-slate-700/20 ring-1 ring-gray-900/5 dark:shadow-slate-100/20 dark:ring-gray-100/5 lg:mx-auto lg:max-w-4xl lg:pt-16 lg:pb-28 bg-lightwhite dark:bg-lightblack","children":["$","div",null,{"className":"prose prose-natural dark:prose-invert mx-auto max-w-full px-8 sm:px-16 relative","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children","posts","children","$5","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/e758a23a6f929df6.css","precedence":"next","crossOrigin":"$undefined"}]]}]}]}],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children","posts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"zh-cn","suppressHydrationWarning":true,"children":["$","body",null,{"className":"text-foreground bg-background min-h-screen","children":["$","$L7",null,{"children":["$L8",["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]}]}]}],null],null]},[["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/6f4549783f0a4bc5.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/ad2762ca96cee671.css","precedence":"next","crossOrigin":"$undefined"}]]}],null],null],[null,"$L9"]]]]
a:I[3693,["706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","911","static/chunks/911-ef3e5407f514babf.js","75","static/chunks/75-40e68fcc798be062.js","373","static/chunks/373-515480abcd5fde06.js","203","static/chunks/app/%5Blocale%5D/layout-e63741283637d366.js"],"Navbar"]
b:I[3693,["706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","911","static/chunks/911-ef3e5407f514babf.js","75","static/chunks/75-40e68fcc798be062.js","373","static/chunks/373-515480abcd5fde06.js","203","static/chunks/app/%5Blocale%5D/layout-e63741283637d366.js"],"NavbarBrand"]
d:I[3693,["706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","911","static/chunks/911-ef3e5407f514babf.js","75","static/chunks/75-40e68fcc798be062.js","373","static/chunks/373-515480abcd5fde06.js","203","static/chunks/app/%5Blocale%5D/layout-e63741283637d366.js"],"NavbarItem"]
10:I[3693,["706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","911","static/chunks/911-ef3e5407f514babf.js","75","static/chunks/75-40e68fcc798be062.js","373","static/chunks/373-515480abcd5fde06.js","203","static/chunks/app/%5Blocale%5D/layout-e63741283637d366.js"],"NavbarContent"]
11:I[1946,["706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","911","static/chunks/911-ef3e5407f514babf.js","75","static/chunks/75-40e68fcc798be062.js","373","static/chunks/373-515480abcd5fde06.js","203","static/chunks/app/%5Blocale%5D/layout-e63741283637d366.js"],"default"]
12:I[8125,["706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","911","static/chunks/911-ef3e5407f514babf.js","75","static/chunks/75-40e68fcc798be062.js","373","static/chunks/373-515480abcd5fde06.js","203","static/chunks/app/%5Blocale%5D/layout-e63741283637d366.js"],"default"]
8:["$","$La",null,{"shouldHideOnScroll":true,"children":[["$","$Lb",null,{"className":"flex flex-row gap-4","children":[["$","p",null,{"className":"font-bold text-inherit","children":"$Lc"}],["$","$Ld",null,{"children":"$Le"}],["$","$Ld",null,{"children":"$Lf"}]]}],["$","$L10",null,{"justify":"end","className":"gap-1","children":[["$","$Ld",null,{"children":["$","$L11",null,{}]}],["$","$Ld",null,{"children":["$","$L12",null,{}]}]]}]]}]
9:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Aya's Blog"}],["$","meta","3",{"name":"description","content":"A site powered by next.js and pandoc"}],["$","link","4",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"48x48"}]]
1:null
13:I[9678,["706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","911","static/chunks/911-ef3e5407f514babf.js","75","static/chunks/75-40e68fcc798be062.js","373","static/chunks/373-515480abcd5fde06.js","203","static/chunks/app/%5Blocale%5D/layout-e63741283637d366.js"],"default"]
c:["$","$L13",null,{"locale":"zh-cn","localePrefix":"always","href":"/","aria-label":"主页","children":"主页"}]
e:["$","$L13",null,{"locale":"zh-cn","localePrefix":"always","href":"/blog/","className":"font-bold","aria-label":"博客","children":"博客"}]
f:["$","$L13",null,{"locale":"zh-cn","localePrefix":"always","href":"/favorites/","className":"font-bold","aria-label":"园地","children":"园地"}]
14:"$Sreact.fragment"
15:I[5164,["804","static/chunks/dccfb526-6a4014e8c6093098.js","645","static/chunks/61af6f7f-90ba238e9fdae2e2.js","706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","75","static/chunks/75-40e68fcc798be062.js","285","static/chunks/285-14bc3064c7849a8e.js","827","static/chunks/app/%5Blocale%5D/posts/%5Bslug%5D/page-3c20058a4b53ba6f.js"],"default"]
16:I[5469,["804","static/chunks/dccfb526-6a4014e8c6093098.js","645","static/chunks/61af6f7f-90ba238e9fdae2e2.js","706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","75","static/chunks/75-40e68fcc798be062.js","285","static/chunks/285-14bc3064c7849a8e.js","827","static/chunks/app/%5Blocale%5D/posts/%5Bslug%5D/page-3c20058a4b53ba6f.js"],""]
17:I[4272,["804","static/chunks/dccfb526-6a4014e8c6093098.js","645","static/chunks/61af6f7f-90ba238e9fdae2e2.js","706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","75","static/chunks/75-40e68fcc798be062.js","285","static/chunks/285-14bc3064c7849a8e.js","827","static/chunks/app/%5Blocale%5D/posts/%5Bslug%5D/page-3c20058a4b53ba6f.js"],"default"]
2f:I[7377,["804","static/chunks/dccfb526-6a4014e8c6093098.js","645","static/chunks/61af6f7f-90ba238e9fdae2e2.js","706","static/chunks/706-cd1f51850f6736be.js","469","static/chunks/469-87fcd49eef6a312e.js","75","static/chunks/75-40e68fcc798be062.js","285","static/chunks/285-14bc3064c7849a8e.js","827","static/chunks/app/%5Blocale%5D/posts/%5Bslug%5D/page-3c20058a4b53ba6f.js"],"default"]
18:T1547,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>f</mi><mo>:</mo><mi>a</mi><mo>→</mo><mi>b</mi><mspace width="1em"/><mi>x</mi><mo>:</mo><msub><mi>t</mi><mn>1</mn></msub><mspace width="1em"/><mo stretchy="false">(</mo><mi>f</mi><mtext> </mtext><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo><msub><mi>t</mi><mn>2</mn></msub></mrow><mrow><msub><mi>t</mi><mn>1</mn></msub><mo>→</mo><msub><mi>t</mi><mn>2</mn></msub><mo>=</mo><mi>a</mi><mo>→</mo><mi>b</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\frac{f:a \rightarrow b\quad x:t_1 \quad (f\ x):t_2}{t_1 \rightarrow t_2 = a \rightarrow b}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.263em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">b</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>19:T392f,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>a</mi><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>t</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>b</mi><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>t</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>f</mi><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>t</mi><mn>3</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>t</mi><mn>4</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo stretchy="false">(</mo><mo>+</mo><mo stretchy="false">)</mo><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">n</mi><mi mathvariant="sans-serif">t</mi></mrow><mo>→</mo><mrow><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">n</mi><mi mathvariant="sans-serif">t</mi></mrow><mo>→</mo><mrow><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">n</mi><mi mathvariant="sans-serif">t</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>t</mi><mn>1</mn></msub><mo>→</mo><msub><mi>t</mi><mn>2</mn></msub><mo>→</mo><msub><mi>t</mi><mn>4</mn></msub><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> </mtext><mrow><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">n</mi><mi mathvariant="sans-serif">t</mi></mrow><mo>→</mo><mrow><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">n</mi><mi mathvariant="sans-serif">t</mi></mrow><mo>→</mo><mrow><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">n</mi><mi mathvariant="sans-serif">t</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>t</mi><mn>3</mn></msub><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> </mtext><msub><mi>t</mi><mn>1</mn></msub><mo>→</mo><msub><mi>t</mi><mn>2</mn></msub><mo>→</mo><msub><mi>t</mi><mn>4</mn></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{aligned}
a:\ &amp;t_1 \\
b:\ &amp;t_2 \\
f:\ &amp;t_3 \\
a + b:\ &amp;t_4 \\
(+):\ &amp; \mathsf{int} \rightarrow \mathsf{int} \rightarrow \mathsf{int} \\
t_1 \rightarrow t_2 \rightarrow t₄ =&amp;\ \mathsf{int} \rightarrow \mathsf{int} \rightarrow \mathsf{int} \\
t_3 =&amp;\ t_1 \rightarrow t_2 \rightarrow t_4
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:10.5em;vertical-align:-5em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.5em;"><span style="top:-7.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:-6.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">+</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span><span style="top:1.34em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.5em;"><span style="top:-7.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-6.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathsf">int</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathsf">int</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathsf">int</span></span></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace"> </span><span class="mord"><span class="mord mathsf">int</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathsf">int</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathsf">int</span></span></span></span><span style="top:1.34em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5em;"><span></span></span></span></span></span></span></span></span></span></span></span>1a:T817,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mo>⋯</mo><msub><mi>x</mi><mi>i</mi></msub><mo>⋯</mo></mrow><annotation encoding="application/x-tex">
 x_i = \cdots x_i \cdots
 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span></span></span></span></span>1b:T7c3,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x_i = f(x_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>1c:Tde6,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>x</mi><mi>i</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo>⋆</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mo lspace="0em" rspace="0em">⋆</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">
  \begin{aligned}
 x_i &amp;= \star \\
 \star &amp;= x_i
  \end{aligned}
  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">⋆</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⋆</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span>1d:T15d7,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">)</mo><mo>=</mo><mi>g</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
f(x_0, x_1, x_2, \cdots) = g(y_0, y_1, y_2, \cdots)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">)</span></span></span></span></span>1e:T46a,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo mathvariant="normal">≠</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">f ≠ g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span>1f:T72d,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i = y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>20:Tf8c,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>f</mi><mo>:</mo><mi>ψ</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow><mrow><mi>f</mi><mo>:</mo><mi mathvariant="normal">∀</mi><msub><mi>x</mi><mn>0</mn></msub><mi mathvariant="normal">.</mi><mi>ψ</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\frac{f:\psi(x_0)}{f:\forall x_0.\psi(x₀)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">∀</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>21:T934,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>f</mi><mo>:</mo><mi mathvariant="normal">∀</mi><mi>x</mi><mi mathvariant="normal">.</mi><mi>ψ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><mrow><mi>f</mi><mo>:</mo><mi>ψ</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\frac{f:\forall x.\psi(x)}{f:\psi(a)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">∀</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>22:T467,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(e_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>23:T669,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><msub><mi>e</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>−</mo><mi>F</mi><mo stretchy="false">(</mo><mi mathvariant="normal">Γ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(e_1) - F(Γ)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord">Γ</span><span class="mclose">)</span></span></span></span>24:T4c5,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub><mo>:</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">e_1:t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>25:T7a6,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub><mo>:</mo><mi mathvariant="normal">∀</mi><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">e_1:∀x_i.t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">∀</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathnormal">t</span></span></span></span>26:T4c5,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mo>:</mo><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">e:t_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>27:T4c5,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mo>:</mo><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">e:t_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>28:Tef5,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mi mathvariant="sans-serif">r</mi><mi mathvariant="sans-serif">e</mi><mi mathvariant="sans-serif">f</mi></mrow><mo stretchy="false">[</mo><mrow><mi mathvariant="sans-serif">l</mi><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">s</mi><mi mathvariant="sans-serif">t</mi></mrow><mo stretchy="false">[</mo><mi>b</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mi mathvariant="sans-serif">r</mi><mi mathvariant="sans-serif">e</mi><mi mathvariant="sans-serif">f</mi></mrow><mo stretchy="false">[</mo><mi>a</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>a</mi><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mi mathvariant="sans-serif">l</mi><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">s</mi><mi mathvariant="sans-serif">t</mi></mrow><mo stretchy="false">[</mo><mrow><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">n</mi><mi mathvariant="sans-serif">t</mi></mrow><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{aligned}
\mathsf{ref}[\mathsf{list}[b]] =&amp; \mathsf{ref}[a] \\
a =&amp; \mathsf{list}[\mathsf{int}]
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathsf" style="margin-right:0.06944em;">ref</span></span><span class="mopen">[</span><span class="mord"><span class="mord mathsf">list</span></span><span class="mopen">[</span><span class="mord mathnormal">b</span><span class="mclose">]]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathsf" style="margin-right:0.06944em;">ref</span></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mclose">]</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathsf">list</span></span><span class="mopen">[</span><span class="mord"><span class="mord mathsf">int</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span>29:T700,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>=</mo><mrow><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">n</mi><mi mathvariant="sans-serif">t</mi></mrow><mo separator="true">,</mo><mi>a</mi><mo>=</mo><mrow><mi mathvariant="sans-serif">l</mi><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">s</mi><mi mathvariant="sans-serif">t</mi></mrow><mo stretchy="false">[</mo><mrow><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">n</mi><mi mathvariant="sans-serif">t</mi></mrow><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">b = \mathsf{int}, a = \mathsf{list}[\mathsf{int}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8738em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathsf">int</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathsf">list</span></span><span class="mopen">[</span><span class="mord"><span class="mord mathsf">int</span></span><span class="mclose">]</span></span></span></span>2a:T4d3,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>x</mi><mo>→</mo><mi mathvariant="normal">∀</mi><mi>y</mi><mi mathvariant="normal">.</mi><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">∀x.(x → ∀y.y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∀</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>2b:T9a9,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><mi>x</mi><mo>:</mo><mi mathvariant="normal">∀</mi><mi>α</mi><mi mathvariant="normal">.</mi><mi>α</mi><mo>→</mo><mi>α</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>α</mi><mi mathvariant="normal">.</mi><mi>α</mi><mo>→</mo><mi>α</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">
λ(x:∀α.α→α).(x (∀α.α→α))x
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">))</span><span class="mord mathnormal">x</span></span></span></span></span>2c:T834,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>α</mi><mi mathvariant="normal">.</mi><mi>α</mi><mo>→</mo><mi>α</mi><mo stretchy="false">)</mo><mo>→</mo><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>α</mi><mi mathvariant="normal">.</mi><mi>α</mi><mo>→</mo><mi>α</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(∀α.α→α)→(∀α.α→α)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span></span></span>2d:T427,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>λ</mi><mi>x</mi><mi mathvariant="normal">.</mi><mi>x</mi><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>λ</mi><mi>x</mi><mi mathvariant="normal">.</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
(λx.xx)(λx.x)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">λ</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mord mathnormal">xx</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">λ</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>2e:T92e,<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><mi>x</mi><mo>:</mo><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>x</mi><mtext> </mtext><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">
λ(x:t_1).(x\ t_2)x
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">x</span></span></span></span></span>2:["$","div",null,{"children":[["$","h1",null,{"className":"text-4xl font-bold mb-2","children":"十分钟搞懂 Hindley-Milner 类型系统"}],["$","div",null,{"className":"text-sm text-gray-500 mb-5","children":"11/25/2021"}],["$","$14","0",{"children":[["$","$L15",null,{"children":[["$","ul","0",{"children":[["$","li","0",{"children":[["$","a","0",{"href":"#类型推理","id":"toc-类型推理","children":["类型推理"]}],["$","ul","1",{"children":[["$","li","0",{"children":[["$","a","0",{"href":"#什么是类型推理","id":"toc-什么是类型推理","children":["什么是类型推理"]}]]}],["$","li","1",{"children":[["$","a","0",{"href":"#类型推理算法","id":"toc-类型推理算法","children":["类型推理算法"]}]]}],["$","li","2",{"children":[["$","a","0",{"href":"#unification","id":"toc-unification","children":["Unification"]}]]}]]}]]}],["$","li","1",{"children":[["$","a","0",{"href":"#let多态","id":"toc-let多态","children":["Let多态"]}]]}],["$","li","2",{"children":[["$","a","0",{"href":"#值限制","id":"toc-值限制","children":["值限制"]}]]}],["$","li","3",{"children":[["$","a","0",{"href":"#量词的位置","id":"toc-量词的位置","children":["量词的位置？"]}]]}]]}]]}],["$","article","1",{"children":[["$","h2",null,{"className":"text-3xl","id":"类型推理","children":[["$","$L16",null,{"href":"#类型推理","color":"secondary","className":"pr-3 no-underline hover:underline text-primary font-sans","children":"#"}],[["$","span","0",{"className":"cjk","children":["类型推理"]}]]]}],["$","h3",null,{"className":"text-2xl","id":"什么是类型推理","children":[["$","$L16",null,{"href":"#什么是类型推理","color":"secondary","className":"pr-3 no-underline hover:underline text-primary font-sans","children":"#"}],[["$","span","0",{"className":"cjk","children":["什么是类型推理"]}]]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["程序员是懒惰的生物。很多时候，我们并不想啰嗦地给出类型："]}]]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["let t = 1 + 1\nlet f x = x + 1"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":[" t "]}],["$","span","code-segement3",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement5",{"className":"token","style":{"color":"var(--theme-number-color)"},"children":["1"]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement7",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["+"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement9",{"className":"token","style":{"color":"var(--theme-number-color)"},"children":["1"]}],["$","span","code-segement10",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[2]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement13",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":[" f x "]}],["$","span","code-segement15",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":[" x "]}],["$","span","code-segement17",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["+"]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement19",{"className":"token","style":{"color":"var(--theme-number-color)"},"children":["1"]}]]]}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["这里的"]}]," ",["$","code","1",{"children":["t"]}],["$","span","2",{"className":"cjk","children":["、"]}],["$","code","3",{"children":["f"]}],["$","span","4",{"className":"cjk","children":["、"]}],["$","code","5",{"children":["x"]}]," ",["$","span","6",{"className":"cjk","children":["三个变量，每个的类型都是很明确的。当然，更多的时候，显示地给出类型是更好的。"]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["还有一些时候，给出类型并不是很容易的事情，例如："]}]]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["let s f g x = f x (g x)\nlet k x y = x\nlet i = s k k\nlet ϕ = s (k (s i)) k"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":[" s f g x "]}],["$","span","code-segement3",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":[" f x "]}],["$","span","code-segement5",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":["g x"]}],["$","span","code-segement7",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[2]}],["$","span","code-segement10",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement11",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":[" k x y "]}],["$","span","code-segement13",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":[" x\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[3]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement17",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement19",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement20",{"className":"$undefined","style":{},"children":[" s k k\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[4]}],["$","span","code-segement22",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement23",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement24",{"className":"$undefined","style":{},"children":[" ϕ "]}],["$","span","code-segement25",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement26",{"className":"$undefined","style":{},"children":[" s "]}],["$","span","code-segement27",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement28",{"className":"$undefined","style":{},"children":["k "]}],["$","span","code-segement29",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement30",{"className":"$undefined","style":{},"children":["s i"]}],["$","span","code-segement31",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement32",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement33",{"className":"$undefined","style":{},"children":[" k"]}]]]}]}]]}],["$","p",null,{"children":["请问，ϕ"," ",["$","span","0",{"className":"cjk","children":["的类型是什么？"]}]]}],["$","p",null,{"children":["ϕ"," ",["$","span","0",{"className":"cjk","children":["的类型是可以计算出来的，但是非常麻烦。自然的想法是找到一个算法，让计算机代替人脑计算。"]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["事实上，把这段代码送到"]}]," ","haskell"," ",["$","span","1",{"className":"cjk","children":["或者"]}]," ","f#"," ",["$","span","2",{"className":"cjk","children":["的"]}]," ","repl"," ","里，他们会告诉你ϕ的类型是",["$","code","3",{"children":["p -> (p -> q) -> q"]}],"."," ",["$","span","4",{"className":"cjk","children":["而他们所采用的算法，就是"]}]," ","Hindley-Milner"," ",["$","span","5",{"className":"cjk","children":["类型推理算法。"]}]]}],["$","h3",null,{"className":"text-2xl","id":"类型推理算法","children":[["$","$L16",null,{"href":"#类型推理算法","color":"secondary","className":"pr-3 no-underline hover:underline text-primary font-sans","children":"#"}],[["$","span","0",{"className":"cjk","children":["类型推理算法"]}]]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["一言以蔽之，类型推理算法就是解方程。方程的建立过程如下："]}]]}],["$","ol","12",{"children":[["$","li","0",{"children":[["$","span","0",{"className":"cjk","children":["每个函数的参数，以及每次函数调用的返回值用一个类型变量"]}],["$","code","1",{"children":["xᵢ"]}],["$","span","2",{"className":"cjk","children":["表示。"]}]]}],["$","li","1",{"children":[["$","span","0",{"className":"cjk","children":["在函数调用的时候建立方程。"]}],["$","code","1",{"children":["f x"]}],["$","span","2",{"className":"cjk","children":["这个函数调用可以用以下的规则建立方程："]}]]}]]}],["$","div",null,{"children":[["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$18"}}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["例如，这样的函数："]}]]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["let f a b = a + b"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":[" f a b "]}],["$","span","code-segement3",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":[" a "]}],["$","span","code-segement5",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["+"]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":[" b"]}]]]}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["就可以建立这样的方程："]}]]}],["$","div",null,{"children":[["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$19"}}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["通过解下面的两个方程，就可以得到每个变量的类型了。现在的问题是，如何解这样的方程呢？"]}]]}],["$","h3",null,{"className":"text-2xl","id":"unification","children":[["$","$L16",null,{"href":"#unification","color":"secondary","className":"pr-3 no-underline hover:underline text-primary font-sans","children":"#"}],["Unification"]]}],["$","p",null,{"children":["unification是来自于自动定理证明的算法，它可以用来解上述的方程。它背后有一系列关于替换的理论。篇幅所限，我们不会在这里讨论这些理论，而是用很短的篇幅来介绍最自然的算法",["$","sup","0",{"children":[["$","a","0",{"href":"#note-1","id":"note-anchor-1","children":["1"]}]]}],["$","span","1",{"className":"cjk","children":["。"]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["首先，上面的方程最多会有两种形式的项参与。一种是类型变量"]}],["$","code","1",{"children":["xᵢ"]}],["$","span","2",{"className":"cjk","children":["，一种是箭头"]}],["$","code","3",{"children":["xᵢ → xⱼ"]}],"."," ",["$","span","4",{"className":"cjk","children":["事实上，箭头"]}],["$","code","5",{"children":["xᵢ→ xⱼ"]}],["$","span","6",{"className":"cjk","children":["可以看作"]}],["$","code","7",{"children":["f(xᵢ, xⱼ)"]}],["$","span","8",{"className":"cjk","children":["，这样我们就有两种形式："]}]]}],["$","ol","22",{"children":[["$","li","0",{"children":[["$","span","0",{"className":"cjk","children":["类型变量。"]}]]}],["$","li","1",{"children":[["$","code","0",{"children":["f(v₀, v₁, v₂, ...)"]}],["$","span","1",{"className":"cjk","children":["的形式。上面的"]}],["$","code","2",{"children":["int"]}],["$","span","3",{"className":"cjk","children":["可以看作"]}],["$","code","4",{"children":["int()"]}]]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["算法如下："]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["遍历每一个方程："]}]]}],["$","ol","25",{"children":[["$","li","0",{"children":[["$","div",null,{"children":[["$","span","0",{"className":"cjk","children":["进行自环检查，如果两边出现了"]}]," ",["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$1a"}}]}]," ",["$","span","2",{"className":"cjk","children":["（例如"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$1b"}}]," ",["$","span","4",{"className":"cjk","children":["）的形式，那么算法失败。"]}]]}]]}],["$","li","1",{"children":[["$","div",null,{"children":["如果方程的形式为:"," ",["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$1c"}}]}]," ",["$","span","1",{"className":"cjk","children":["那么无论"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⋆</mo></mrow><annotation encoding=\"application/x-tex\">\\star</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord\">⋆</span></span></span></span>"}}]," ",["$","span","3",{"className":"cjk","children":["是什么，都用"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⋆</mo></mrow><annotation encoding=\"application/x-tex\">\\star</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4653em;\"></span><span class=\"mord\">⋆</span></span></span></span>"}}]," ",["$","span","5",{"className":"cjk","children":["替换掉"]}],["$","em","6",{"children":[["$","span","0",{"className":"cjk","children":["还没有遍历过的方程"]}]]}],["$","span","7",{"className":"cjk","children":["中的"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">x_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>"}}]]}]]}],["$","li","2",{"children":[["$","div",null,{"children":["如果不是情况1.，即"," ",["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$1d"}}]}]," ",["$","span","1",{"className":"cjk","children":["那么，"]}]]}],["$","ul","1",{"children":[["$","li","0",{"children":[["$","span","0",{"className":"cjk","children":["如果"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$1e"}}],["$","span","2",{"className":"cjk","children":["，算法失败。"]}]]}],["$","li","1",{"children":[["$","span","0",{"className":"cjk","children":["如果"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>=</mo><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">f = g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span>"}}],["$","span","2",{"className":"cjk","children":["，加入"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>"}}],["$","span","4",{"className":"cjk","children":["（"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>"}}]," ",["$","span","6",{"className":"cjk","children":["为"]}]," ","f"," ",["$","span","7",{"className":"cjk","children":["的参数个数"]}],["$","span","8",{"className":"cjk","children":["）个新的待遍历方程"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$1f"}}],"."]}]]}]]}]]}],["$","h2",null,{"className":"text-3xl","id":"let多态","children":[["$","$L16",null,{"href":"#let多态","color":"secondary","className":"pr-3 no-underline hover:underline text-primary font-sans","children":"#"}],["Let多态"]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["现在我们已经有了一个类型推理算法。考虑这样的函数："]}]]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["let f x = x"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":[" f x "]}],["$","span","code-segement3",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":[" x"]}]]]}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["上面的推理算法会推出"]}],["$","code","1",{"children":["f:x₀ → x₀"]}],["$","span","2",{"className":"cjk","children":["，这里有一个自由变量"]}]," ",["$","code","3",{"children":["x₀"]}],"."," ",["$","span","4",{"className":"cjk","children":["采用"]}]," ","System"," ","F"," ","的类型记法，对这样的函数进行“泛化”："]}],["$","div",null,{"children":[["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$20"}}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["这样一来，"]}],["$","code","1",{"children":["f"]}]," ","的类型就成了“多态类型”，可以进行“例化”："]}],["$","div",null,{"children":[["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$21"}}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["一个麻烦的问题是：在什么时候进行泛化和例化呢？"]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["自然的想法是，在"]}]," ",["$","code","1",{"children":["fun x -> ..."]}]," ",["$","span","2",{"className":"cjk","children":["这样的"]}]," ","lambda"," ","表达式外部进行泛化，在引用一个泛化过的变量的时候进行例化。E.g."]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["// 以下都是类型正确的项\n(λ x. x) 10\n(λ x. x) true"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-comment-color)"},"children":["// 以下都是类型正确的项"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[2]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement5",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":["λ x"]}],["$","span","code-segement7",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["."]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":[" x"]}],["$","span","code-segement9",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement10",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement11",{"className":"token","style":{"color":"var(--theme-number-color)"},"children":["10"]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[3]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement15",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":["λ x"]}],["$","span","code-segement17",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["."]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":[" x"]}],["$","span","code-segement19",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement20",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement21",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["true"]}]]]}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["这样带来的问题是，只有"]}]," ","λ"," ","表达式可以是“多态类型”的，在"," ","lambda"," ",["$","span","1",{"className":"cjk","children":["内部的变量仍然只能是单一类型的。"]}]]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["(λf.(λ t. f true)(f 0))(λx.x)"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":["λf"]}],["$","span","code-segement3",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["."]}],["$","span","code-segement4",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":["λ t"]}],["$","span","code-segement6",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["."]}],["$","span","code-segement7",{"className":"$undefined","style":{},"children":[" f "]}],["$","span","code-segement8",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["true"]}],["$","span","code-segement9",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement10",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement11",{"className":"$undefined","style":{},"children":["f "]}],["$","span","code-segement12",{"className":"token","style":{"color":"var(--theme-number-color)"},"children":["0"]}],["$","span","code-segement13",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement14",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement15",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":["λx"]}],["$","span","code-segement17",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["."]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":["x"]}],["$","span","code-segement19",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}]]]}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["以上面的表达式为例，即使"]}]," ",["$","code","1",{"children":["λx.x"]}]," ",["$","span","2",{"className":"cjk","children":["是多态类型，"]}],["$","code","3",{"children":["f"]}]," ",["$","span","4",{"className":"cjk","children":["也不能被推理为多态类型。实际上，"]}],["$","code","5",{"children":["f"]}],["$","span","6",{"className":"cjk","children":["在"]}],["$","code","7",{"children":["f 0"]}],["$","span","8",{"className":"cjk","children":["被推理为"]}],["$","code","9",{"children":["int → x₀"]}],["$","span","10",{"className":"cjk","children":["，在"]}],["$","code","11",{"children":["f true"]}],["$","span","12",{"className":"cjk","children":["被推理为"]}],["$","code","13",{"children":["bool → x₀"]}],"."," ",["$","span","14",{"className":"cjk","children":["这样会产生类型错误。"]}]]}],["$","p",null,{"children":["回忆一下，在F#或者ocaml中，",["$","code","0",{"children":["f"]}],["$","span","1",{"className":"cjk","children":["真正被赋予泛型的方法是："]}]]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["let f x = x in\n    let t = f 0 in f true"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":[" f x "]}],["$","span","code-segement3",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":[" x "]}],["$","span","code-segement5",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["in"]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[2]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement9",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement10",{"className":"$undefined","style":{},"children":[" t "]}],["$","span","code-segement11",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":[" f "]}],["$","span","code-segement13",{"className":"token","style":{"color":"var(--theme-number-color)"},"children":["0"]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement15",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["in"]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":[" f "]}],["$","span","code-segement17",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["true"]}]]]}]}]]}],["$","p",null,{"children":["在无类型或简单类型λ表达式中，上面的两段代码完全等价，",["$","code","0",{"children":["let"]}],"只是语法糖。但是在ML系语言中，",["$","code","1",{"children":["let"]}],"却不是语法糖。事实上，ML系语言中，进行“泛化”的时机恰恰是在",["$","code","2",{"children":["let"]}],["$","span","3",{"className":"cjk","children":["绑定这里！"]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["也就是说："]}]]}],["$","ol","43",{"children":[["$","li","0",{"children":[["$","span","0",{"className":"cjk","children":["在表达式"]}],["$","code","1",{"children":["let var = e₁ in e₂"]}],["$","span","2",{"className":"cjk","children":["中，"]}],["$","code","3",{"children":["e₁"]}],["$","span","4",{"className":"cjk","children":["的类型被泛化。泛化方法为："]}],["$","ul","5",{"children":[["$","li","0",{"children":[["$","span","0",{"className":"cjk","children":["当前环境"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Γ</mi></mrow><annotation encoding=\"application/x-tex\">Γ</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Γ</span></span></span></span>"}}]," ",["$","span","2",{"className":"cjk","children":["中的自由变量为"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">Γ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">F(Γ)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mopen\">(</span><span class=\"mord\">Γ</span><span class=\"mclose\">)</span></span></span></span>"}}]]}],["$","li","1",{"children":[["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">e_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>"}}]," ",["$","span","1",{"className":"cjk","children":["的自由变量为"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$22"}}]]}],["$","li","2",{"children":[["$","span","0",{"className":"cjk","children":["遍历每一个在"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$23"}}]," ",["$","span","2",{"className":"cjk","children":["的自由变量"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">x_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>"}}],["$","span","4",{"className":"cjk","children":["，"]}],["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$24"}}]," ",["$","span","6",{"className":"cjk","children":["变为"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$25"}}]]}]]}]]}],["$","li","1",{"children":[["$","span","0",{"className":"cjk","children":["每当从当前环境"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Γ</mi></mrow><annotation encoding=\"application/x-tex\">Γ</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Γ</span></span></span></span>"}}]," ",["$","span","2",{"className":"cjk","children":["中引用一个泛型变量"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$26"}}]," ",["$","span","4",{"className":"cjk","children":["时，用一个新的类型变量例化"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$27"}}]," ",["$","span","6",{"className":"cjk","children":["直到"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">t_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>"}}]," ",["$","span","8",{"className":"cjk","children":["不再含有"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∀</mi></mrow><annotation encoding=\"application/x-tex\">∀</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">∀</span></span></span></span>"}}]]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["而这就是"]}]," ","Hindley-Milner"," ","算法的基本思想。至于具体实现则有algorithm"," ","J和algorithm"," ","W，请参考维基百科或者"," ","Milner"," ",["$","span","1",{"className":"cjk","children":["的"]}],["$","a","2",{"href":"https://www.sciencedirect.com/science/article/pii/0022000078900144?via%3Dihub","children":[["$","span","0",{"className":"cjk","children":["原始论文"]}]]}],["$","span","3",{"className":"cjk","children":["。"]}],["$","a","4",{"href":"https://github.com/ayanamists/TypeInf","children":[["$","span","0",{"className":"cjk","children":["我的实现"]}]]}],"采用了alogrithm"," ","J."]}],["$","h2",null,{"className":"text-3xl","id":"值限制","children":[["$","$L16",null,{"href":"#值限制","color":"secondary","className":"pr-3 no-underline hover:underline text-primary font-sans","children":"#"}],[["$","span","0",{"className":"cjk","children":["值限制"]}]]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["如果你真的试了之前的代码："]}]]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["let s f g x = f x (g x)\nlet k x y = x\nlet i = s k k\nlet ϕ = s (k (s i)) k"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":[" s f g x "]}],["$","span","code-segement3",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":[" f x "]}],["$","span","code-segement5",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":["g x"]}],["$","span","code-segement7",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[2]}],["$","span","code-segement10",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement11",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":[" k x y "]}],["$","span","code-segement13",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":[" x\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[3]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement17",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement19",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement20",{"className":"$undefined","style":{},"children":[" s k k\n"]}],["$","span","line-number--4",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[4]}],["$","span","code-segement22",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement23",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement24",{"className":"$undefined","style":{},"children":[" ϕ "]}],["$","span","code-segement25",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement26",{"className":"$undefined","style":{},"children":[" s "]}],["$","span","code-segement27",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement28",{"className":"$undefined","style":{},"children":["k "]}],["$","span","code-segement29",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement30",{"className":"$undefined","style":{},"children":["s i"]}],["$","span","code-segement31",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement32",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement33",{"className":"$undefined","style":{},"children":[" k"]}]]]}]}]]}],["$","p",null,{"children":["你会发现，在Haskell中，这是没问题的："]}],["$","figure","49",{"children":[["$","div",null,{"children":[["$","img","0",{"src":"https://pic.imgdb.cn/item/619f4b162ab3f51d911a8f2f.jpg"}]]}]]}],["$","p",null,{"children":["但是在F#中，这会报错："]}],["$","figure","51",{"children":[["$","div",null,{"children":[["$","img","0",{"src":"https://pic.imgdb.cn/item/619f4b552ab3f51d911ab740.jpg"}]]}]]}],["$","p",null,{"children":["为什么要报错呢？这就要从一个更加tricky的程序说起。F#中有可变类型："]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["let mutable x = 10\nx <- 20\nprintfn \"%A\" x"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement3",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["mutable"]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":[" x "]}],["$","span","code-segement5",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement7",{"className":"token","style":{"color":"var(--theme-number-color)"},"children":["10"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[2]}],["$","span","code-segement10",{"className":"$undefined","style":{},"children":["x "]}],["$","span","code-segement11",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["<-"]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement13",{"className":"token","style":{"color":"var(--theme-number-color)"},"children":["20"]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[3]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":["printfn "]}],["$","span","code-segement17",{"className":"token","style":{"color":"var(--theme-string-color)"},"children":["\"%A\""]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":[" x"]}]]]}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["如果给出这样的程序："]}]]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["let mutable x = []\nx <- [3]\nList.map (fun x -> x = true) x"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement3",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["mutable"]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":[" x "]}],["$","span","code-segement5",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement7",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["["]}],["$","span","code-segement8",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["]"]}],["$","span","code-segement9",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[2]}],["$","span","code-segement11",{"className":"$undefined","style":{},"children":["x "]}],["$","span","code-segement12",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["<-"]}],["$","span","code-segement13",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement14",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["["]}],["$","span","code-segement15",{"className":"token","style":{"color":"var(--theme-number-color)"},"children":["3"]}],["$","span","code-segement16",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["]"]}],["$","span","code-segement17",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[3]}],["$","span","code-segement19",{"className":"$undefined","style":{},"children":["List"]}],["$","span","code-segement20",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["."]}],["$","span","code-segement21",{"className":"$undefined","style":{},"children":["map "]}],["$","span","code-segement22",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement23",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["fun"]}],["$","span","code-segement24",{"className":"$undefined","style":{},"children":[" x "]}],["$","span","code-segement25",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["->"]}],["$","span","code-segement26",{"className":"$undefined","style":{},"children":[" x "]}],["$","span","code-segement27",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement28",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement29",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["true"]}],["$","span","code-segement30",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement31",{"className":"$undefined","style":{},"children":[" x"]}]]]}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["那么第一行会报错。但是，假设第一行不报错，第二行会不会报错呢？我们要仔细研究一下。"]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["首先，"]}],["$","code","1",{"children":["<-"]}],"的类型虽然F#被隐去了，但是F#有一套",["$","a","2",{"href":"https://aka.ms/fsharp-refcell-ops","children":[["$","span","0",{"className":"cjk","children":["已经弃用"]}]]}],["$","span","3",{"className":"cjk","children":["的操作符"]}],["$","code","4",{"children":["!"]}],["$","span","5",{"className":"cjk","children":["、"]}],["$","code","6",{"children":[":="]}],["$","span","7",{"className":"cjk","children":["和"]}],["$","code","8",{"children":["ref"]}],["$","span","9",{"className":"cjk","children":["，它们的类型是："]}]]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["ref  : 'a -> 'a ref\n(!)  : 'a ref -> 'a\n(:=) : 'a ref -> 'a -> unit"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":["ref  "]}],["$","span","code-segement2",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[":"]}],["$","span","code-segement3",{"className":"$undefined","style":{},"children":[" 'a "]}],["$","span","code-segement4",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["->"]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":[" 'a ref\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[2]}],["$","span","code-segement7",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement8",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement9",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["!"]}],["$","span","code-segement10",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement11",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement12",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[":"]}],["$","span","code-segement13",{"className":"$undefined","style":{},"children":[" 'a ref "]}],["$","span","code-segement14",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["->"]}],["$","span","code-segement15",{"className":"$undefined","style":{},"children":[" 'a\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[3]}],["$","span","code-segement17",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement18",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement19",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":[":="]}],["$","span","code-segement20",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement21",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement22",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[":"]}],["$","span","code-segement23",{"className":"$undefined","style":{},"children":[" 'a ref "]}],["$","span","code-segement24",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["->"]}],["$","span","code-segement25",{"className":"$undefined","style":{},"children":[" 'a "]}],["$","span","code-segement26",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["->"]}],["$","span","code-segement27",{"className":"$undefined","style":{},"children":[" unit"]}]]]}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["上面的程序写作："]}]]}],["$","div",null,{"className":"border border-solid rounded-md not-prose border-zinc-400 relative","children":[["$","$L17",null,{"code":["let x = ref []\nx := [3]\nList.map (fun x -> x = true) x"]}],["$","pre",null,{"style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","margin":".5em 0","overflow":"auto","background":"var(--theme-background-color)"},"children":["$","code",null,{"className":"language-fsharp","style":{"color":"var(--theme-code-color)","textShadow":"0 1px var(--theme-text-shadow-color)","fontFamily":"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace","direction":"ltr","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","line-number--1",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[1]}],["$","span","code-segement1",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["let"]}],["$","span","code-segement2",{"className":"$undefined","style":{},"children":[" x "]}],["$","span","code-segement3",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement4",{"className":"$undefined","style":{},"children":[" ref "]}],["$","span","code-segement5",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["["]}],["$","span","code-segement6",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["]"]}],["$","span","code-segement7",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--2",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[2]}],["$","span","code-segement9",{"className":"$undefined","style":{},"children":["x "]}],["$","span","code-segement10",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":[":="]}],["$","span","code-segement11",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement12",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["["]}],["$","span","code-segement13",{"className":"token","style":{"color":"var(--theme-number-color)"},"children":["3"]}],["$","span","code-segement14",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["]"]}],["$","span","code-segement15",{"className":"$undefined","style":{},"children":["\n"]}],["$","span","line-number--3",{"className":"linenumber react-syntax-highlighter-line-number","style":{"display":"inline-block","minWidth":"2em","paddingRight":"0","textAlign":"right","userSelect":"none","marginRight":"1em","fontStyle":"italic","color":"var(--theme-comment-color)"},"children":[3]}],["$","span","code-segement17",{"className":"$undefined","style":{},"children":["List"]}],["$","span","code-segement18",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["."]}],["$","span","code-segement19",{"className":"$undefined","style":{},"children":["map "]}],["$","span","code-segement20",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":["("]}],["$","span","code-segement21",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["fun"]}],["$","span","code-segement22",{"className":"$undefined","style":{},"children":[" x "]}],["$","span","code-segement23",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["->"]}],["$","span","code-segement24",{"className":"$undefined","style":{},"children":[" x "]}],["$","span","code-segement25",{"className":"token","style":{"color":"var(--theme-operator-color)"},"children":["="]}],["$","span","code-segement26",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement27",{"className":"token","style":{"color":"var(--theme-keyword-color)"},"children":["true"]}],["$","span","code-segement28",{"className":"token","style":{"color":"var(--theme-punctuation-color)"},"children":[")"]}],["$","span","code-segement29",{"className":"$undefined","style":{},"children":[" x"]}]]]}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["在第二行被引用的时候，"]}],["$","code","1",{"children":["x"]}],["$","span","2",{"className":"cjk","children":["的类型是"]}],["$","code","3",{"children":["'t list ref"]}],["$","span","4",{"className":"cjk","children":["，也就是"]}],["$","code","5",{"children":["∀t.ref[list[t]]"]}],["$","span","6",{"className":"cjk","children":["，它应该被例化为"]}],["$","code","7",{"children":["ref[list[b]]"]}],["$","span","8",{"className":"cjk","children":["，这样一来得到两个等式："]}]]}],["$","div",null,{"children":[["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$28"}}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["上面的方程得到"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$29"}}]," ",["$","span","2",{"className":"cjk","children":["，"]}],["$","strong","3",{"children":[["$","span","0",{"className":"cjk","children":["这是不会报错的"]}]]}],["$","span","4",{"className":"cjk","children":["。而且更大的问题是，在第二行的类型检查之后，"]}],["$","code","5",{"children":["b"]}],["$","span","6",{"className":"cjk","children":["确实变成了"]}],["$","code","7",{"children":["int"]}],["$","span","8",{"className":"cjk","children":["，但这只是"]}]," ",["$","strong","9",{"children":[["$","span","0",{"className":"cjk","children":["例化的"]}]]}]," ",["$","code","10",{"children":["x"]}],["$","span","11",{"className":"cjk","children":["，而"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Γ</mi></mrow><annotation encoding=\"application/x-tex\">Γ</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Γ</span></span></span></span>"}}]," ",["$","span","13",{"className":"cjk","children":["中的"]}],["$","code","14",{"children":["x"]}],["$","span","15",{"className":"cjk","children":["，类型一直都是"]}],["$","code","16",{"children":["'t list ref"]}],["$","span","17",{"className":"cjk","children":["，也就是说，"]}],["$","strong","18",{"children":[["$","span","0",{"className":"cjk","children":["第三行照样不会报错！"]}]]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["这就非常糟糕了，因为它引入了类型系统的"]}]," ","unsound."," ",["$","span","1",{"className":"cjk","children":["第三行毫无疑问会出现运行时错误。"]}]]}],["$","p",null,{"children":["为了解决这个问题，ANDREW"," ","K."," ","WRIGHT",["$","sup","0",{"children":[["$","a","0",{"href":"#note-2","id":"note-anchor-2","children":["2"]}]]}],["$","span","1",{"className":"cjk","children":["引入了值限制"]}]," ","(value"," ","restriction)。值限制的含义很简单：仅当",["$","code","2",{"children":["let var = e₁ in e₂"]}],["$","span","3",{"className":"cjk","children":["的"]}],["$","code","4",{"children":["e₁"]}],"是语法值(syntactic"," ","value)的时候，泛化",["$","code","5",{"children":["e₁"]}],["$","span","6",{"className":"cjk","children":["。如果"]}],["$","code","7",{"children":["e₁"]}],["$","span","8",{"className":"cjk","children":["不是语法值，且他具有不在"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Γ</mi></mrow><annotation encoding=\"application/x-tex\">\\Gamma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Γ</span></span></span></span>"}}]," ",["$","span","10",{"className":"cjk","children":["中的自由变量，那么报错。"]}]]}],["$","p",null,{"children":["语法值，在ML系语言中就是常量、变量、λ表达式、类型构造器。当然，一个",["$","code","0",{"children":["ref[a]"]}],"类型的值不能被视为语法值。这样一来问题显然已经解决了，因为上面的错误本质上是因为副作用的出现，而对一个语法值求值，在ML中不可能出现副作用。"]}],["$","p",null,{"children":["这个解决方案是过近似的，很多正确的程序（比如之前提到的的程序）也会被拒绝。Haskell由于没有副作用，自然也就不存在这个问题。这也是Haskell能够大量的使用类似于",["$","code","0",{"children":["f . g"]}],"的函数组合，而ML中不能的一大原因。"]}],["$","h2",null,{"className":"text-3xl","id":"量词的位置","children":[["$","$L16",null,{"href":"#量词的位置","color":"secondary","className":"pr-3 no-underline hover:underline text-primary font-sans","children":"#"}],[["$","span","0",{"className":"cjk","children":["量词的位置？"]}]]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["在"]}]," ","System"," ","F"," ",["$","span","1",{"className":"cjk","children":["中，量词可以出现在一个类型的任意位置。比如"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$2a"}}],"."," ","事实上，System"," ","F"," ",["$","span","3",{"className":"cjk","children":["虽然无法构造"]}]," ","Y"," ",["$","span","4",{"className":"cjk","children":["组合子（有悖于强规范性），但却可以编码类似于"]}],["$","span","5",{"className":"cjk","children":["无类型"]}]," ","lambda"," ",["$","span","6",{"className":"cjk","children":["演算的"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">xx</span><span class=\"mclose\">)</span></span></span></span>"}}]," ",["$","span","8",{"className":"cjk","children":["结构："]}]]}],["$","div",null,{"children":[["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$2b"}}]}]]}],["$","p",null,{"children":["这个λ表达式的类型是"," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$2c"}}],"."," ",["$","span","1",{"className":"cjk","children":["它第一个参数的类型决定了它只能作用于"]}],["$","code","2",{"children":["Λα.λ(x:α).x"]}],["$","span","3",{"className":"cjk","children":["这个"]}],["$","code","4",{"children":["id"]}],["$","span","5",{"className":"cjk","children":["函数。把它作用到"]}],["$","code","6",{"children":["id"]}],"的形式用无类型λ表达式写出来就是："]}],["$","div",null,{"children":[["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$2d"}}]}]]}],["$","p",null,{"children":["毫无疑问它会被β规约为",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>λ</mi><mi>x</mi><mi mathvariant=\"normal\">.</mi><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">λx.x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">λ</span><span class=\"mord mathnormal\">x</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">x</span></span></span></span>"}}],"."]}],["$","p",null,{"children":["由此可见，System"," ","F中λ表达式，其参数的类型可以含有“多态类型”。那么为什么之前我们的类型推理算法没法推理出它的多态类型呢？"]}],["$","p",null,{"children":["这是因为，之前我们的推理算法可以看作是“简单类型λ表达式”的类型推理算法。而HM类型系统则是简单类型λ表达式的扩展。"]}],["$","p",null,{"children":["说到这里，自然会产生一个疑问：System"," ","F"," ",["$","span","0",{"className":"cjk","children":["可不可以进行类似的推理呢？或者说，我们这样写："]}]]}],["$","div",null,{"children":[["$","div",null,{"className":"overflow-auto","children":["$","div",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"$2e"}}]}]]}],["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["有没有一个算法，可以得到通过这个表达式得到"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">t_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>"}}]," ",["$","span","2",{"className":"cjk","children":["和"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">t_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>"}}]," ",["$","span","4",{"className":"cjk","children":["的值呢？"]}]]}],["$","p",null,{"children":["1985年，Hans-J."," ","Boehm的论文"," ",["$","em","0",{"children":["PARTIAL"," ","POLYMORPHIC"," ","TYPE"," ","INFERENCE"," ","IS"," ","UNDECIDABLE"]}]," ",["$","span","1",{"className":"cjk","children":["告诉我们，如果加入"]}],["$","code","2",{"children":["fix"]}],"组合子，那么上面的问题是不可判定的。1995年，J.B.Wells的论文"," ",["$","em","3",{"children":["Typability"," ","and"," ","type"," ","checking"," ","in"," ","System"," ","F"," ","are"," ","equivalent"," ","and"," ","undecidable"]}]," ",["$","span","4",{"className":"cjk","children":["进一步告诉我们，如果不给出显式的"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">t₁</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>"}}]," ",["$","span","6",{"className":"cjk","children":["和"]}]," ",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">t₂</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7651em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>"}}],["$","span","8",{"className":"cjk","children":["，只要求检查最后的类型，那么这个问题还是不可判定的。"]}]]}],["$","p",null,{"children":["所以，HM"," ",["$","span","0",{"className":"cjk","children":["类型系统可以被看成两种"]}]," ","λ"," ",["$","span","1",{"className":"cjk","children":["表达式的变种："]}]]}],["$","ul","81",{"children":[["$","li","0",{"children":[["$","span","0",{"className":"cjk","children":["如果看成简单类型"]}]," ","λ"," ","表达式的变种，那么HM类型系统加入了",["$","code","1",{"children":["let var = e₁ in e₂"]}],["$","span","2",{"className":"cjk","children":["这种形式，并且允许"]}],["$","code","3",{"children":["e₁"]}],["$","span","4",{"className":"cjk","children":["泛化，实现了参数多态。"]}]]}],["$","li","1",{"children":["如果看成System"," ","F的变种，那么HM类型系统限制了量词的位置–只能在类型的最前面。这个限制使得HM类型系统可以实现推理，而"," ","System"," ","F"," ",["$","span","0",{"className":"cjk","children":["无法实现类型推理。"]}]]}]]}],["$","p",null,{"children":["不过，这并不是说，更强的类型系统就不能进行类型推理了。事实上，Haskell"," ",["$","span","0",{"className":"cjk","children":["实现了更强的类型推理，而像"]}]," ","Scala、Typescript、Rust"," ",["$","span","1",{"className":"cjk","children":["等语言使用的是一种称作"]}]," ",["$","q","2",{"children":[["$","span","0",{"className":"cjk","children":["局部类型推理"]}]]}],"（local"," ","type"," ","inference）的技术，它在程序员给出一些类型标记的基础上，可以消除大部分不必要的类型标记。"]}],["$","div",null,{"className":"notes","children":[["$","$L2f",null,{"itemId":"1","id":"note-1","children":[["$","p",null,{"children":[["$","span","0",{"className":"cjk","children":["文末给出的实现采用的是基于并查集的算法"]}]]}]]}],["$","$L2f",null,{"itemId":"2","id":"note-2","children":[["$","p",null,{"children":["Simple"," ","imperative"," ","polymorphism,"," ","ANDREW"," ","K."," ","WRIGHT"]}]]}]]}]]}]]}]]}]
